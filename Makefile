FLAG = -pthread -Wall -Wextra -Werror -std=c++98
SRCS = main.cpp
OBJS = $(patsubst %.cpp,bin/%.o,$(SRCS))
NAME = webserv

RED		:=	\033[1;31m
GRE		:=	\033[1;32m
GRA		:=	\033[1;37m
BLU		:=	\033[1;34m
EOC		:=	\033[0m

bin/%.o: src/%.cpp
	@echo "$(BLU)‚óè Compiling $^ üîß$(EOC)"
	@mkdir -p bin
	@clang++ $(FLAG) -c $^ -o $@
all: $(NAME)
$(NAME): $(OBJS)
	@echo "$(GRE)‚óè Compiling $(NAME) ‚öôÔ∏è $(EOC)"
	clang++ $(FLAG) $(OBJS) -o $(NAME)
run: all
	./$(NAME)
clean:
	@echo "$(RED)‚óè Removing objects üìÅ$(EOC)"
	rm -rf $(OBJS)
fclean: clean
	@echo "$(RED)‚óè Removing binary ‚öôÔ∏è $(EOC)"
	rm -rf $(NAME)
re: fclean all

.PHONY: all run clean fclean re